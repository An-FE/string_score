/*!
 * string_score.js: Quicksilver-like string scoring algorithm.
 * Special thanks to Lachie Cox and Quicksilver for inspiration.
 *
 * Copyright (C) 2009 Joshaven Potter <yourtech@gmail.com>
 * Copyright (C) 2010 Yesudeep Mangalapilly <yesudeep@gmail.com>
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */
String.prototype.score=function(l){if(this===l){return 1}var e=0,p=l.length,f=this,o=f.length,n=0,j=0,s=0,r=0,h=0;for(var d=0,q=0,m=0,g="",a=0,b=0,k=0;d<p;++d){g=l[d];a=f.indexOf(g.toLowerCase());b=f.indexOf(g.toUpperCase());k=Math.min(a,b);m=(k>-1)?k:Math.max(a,b);if(m===-1){return 0}q=0.1;if(f[m]===g){q+=0.1}if(m===0){q+=0.8;if(d===0){n=1}}if(f.charAt(m-1)===" "){q+=0.8}f=f.substring(m+1,o);e+=q}j=e/p;s=p/o;r=j*s;h=(r+j)/2;if(n&&(h+0.1<1)){h+=0.1}return h};